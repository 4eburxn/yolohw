# yolohw
### Ответы на поставленные вопросы
#### 1. В чем отличие каскадных нейросетей от сверточных
* Сверточная нейросеть последовательно применяет ядра.
* Каскадная нейросеть в свою очередь является последовательностью моделей(каждая пытается улучшить результат предыдущей или сразу дать результат).
#### 2. Какая достоверность распознавания у вашей программы
Из вывода скрипта metrics.py(будет запущен в конце ./start.sh) мы видем, что для класса person(при валидации на coco8.yaml). Мы получаем:
```
Precision: 0.7209
Recall: 0.5000
```
А значит модель права в 72% случаев и находит 50% от всех людей

#### 3. Как повысить достоверность распознавания
Самые это:
* Увеличить разрешение(на данный момент 640х640)
* Взять более "крупную" модель(на данный момент используется самая маленькая)
* Дообучить, если есть на чем

#### 4. Провести анализ на людях какой минимальный размер объекта в пикселях нужен использованной вами нейросетью для распознавания
Минимальная площадь для покрытия 5% объектов с заданной уверенностью:
| Порог | Минимальная площадь |
| ---   | ---                 |
| 0.5   | 1216.00             |
| 0.7   | 1500.00             |
| 0.9   | 2016.00             |
| 0.95  | Нет данных          |
| 0.98  | Нет данных          |
### Запуск
#### Зависимости
* Необходимые
* * OpenCV(4.10 и выше однозначно подходят)
* * g++
* * cmake
* Дополнительные(для работы start.sh)
* * curl
* * python3.10-venv

#### Подготовка окружения
``` bash
# Скачивание модели(./yolov8n.onnx) и тестового видео(./samples/vtest.avi)
./start.sh

# Запуск в тестовом режиме c решением 2 и 4 вопроса(требует запуска ./start.sh)
./test.sh
```
> [!IMPORTANT]  
> Если уже имеется .onnx модель и готовый RTSP поток, то действия выше не требуются. Иначе размер папки будет раздут до 7.7Гб(ultralytics и зависимости)
#### Если start.sh не запускался, необходимо скомпилировать программу
```bash
./tools/simpbuild.sh && ln -s .build/yolohw yolohw
```
#### Использование программы
```
# Запуск без конфига
./yolohw -f=path/to/file/or/RTSP -m=./yolov8n.onnx 

# Запуск c конфигом
./yolohw -с=./default.toml
```
Пример конфига:
```toml
path="rtsp://localhost:8554/live"
model="./yolov8n.onnx"
```

